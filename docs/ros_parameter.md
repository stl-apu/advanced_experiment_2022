# ROSパラメーター
- ROSマスターが起動すると、ROSパラメーターサーバーも一緒に起動します。
- このサーバーを介して、グローバル変数のように全てのノードで利用可能な変数を共有することができます。
- シミュレーター（turtlesim）を用いて仕組みを理解しましょう。  

## グローバルパラメーター
### 1つ目：ROSマスターの起動
- ROSマスターを起動する。  

### 2つ目：シミュレーターの起動
- バーチャルなロボットとして、turtlesimノードを起動する。  

### 3つ目：グローバル変数の利用
- どんなROSパラメーターがあるかを確認する。
  ```
  $ rosparam list
  ```
- 具体的な値を確認する。
  ```
  $ rosparam get /turtlesim/background_b
  ```
- 値を変更する。
  ```
  $ rosparam set /turtlesim/background_b 0
  ```  
- パラメーターはノードを生成した時に読み込まれるため、強制的に再読み込みを行い、変更内容を反映する。  
  ```
  $ rosservice call /clear
  ```
  - シミュレーターの背景色が変わります。  


## ローカルパラメーター
- 下記のようにオプション付きで実行することで、任意の名前でノードを起動することができます。ROSでは、同じ名前のノードは1つしか存在することができないので、同じ名前を指定すると上書きされてしまいます。逆に、異なる名前を指定すれば、複数の亀を発生させることも可能です。1つのキーボードで複数台のロボットを操作できるようになります。
  ```
  $ rosrun turtlesim turtlesim_node __name:=foo
  ```

[このページのトップへ](#)

[応用実験用サイトのトップへ](https://stl-apu.github.io/advanced_experiment_2022/)
